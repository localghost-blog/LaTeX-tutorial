'use strict';(function(){const a='/latex-tutorial/zh.search-data.min.fe374e1ba88c312e26552c22cc2d4223f93cd2a2e60dc79753256493ef53fbd1.json',r=Object.assign({encode:!1,tokenize:function(e){return e.replace(/[\x00-\x7F]/g,'').split('')}},{doc:{id:'id',field:['title','content'],store:['title','href','section']}}),e=document.querySelector('#book-search-input'),t=document.querySelector('#book-search-results');if(!e)return;e.addEventListener('focus',n),e.addEventListener('keyup',s),document.addEventListener('keypress',o);function o(t){if(t.target.value!==void 0)return;if(e===document.activeElement)return;const n=String.fromCharCode(t.charCode);if(!i(n))return;e.focus(),t.preventDefault()}function i(t){const n=e.getAttribute('data-hotkeys')||'';return n.indexOf(t)>=0}function n(){e.removeEventListener('focus',n),e.required=!0,fetch(a).then(e=>e.json()).then(e=>{window.bookSearchIndex=FlexSearch.create('balance',r),window.bookSearchIndex.add(e)}).then(()=>e.required=!1).then(s)}function s(){for(;t.firstChild;)t.removeChild(t.firstChild);if(!e.value)return;const n=window.bookSearchIndex.search(e.value,10);n.forEach(function(e){const n=c('<li><a href></a><small></small></li>'),s=n.querySelector('a'),o=n.querySelector('small');s.href=e.href,s.textContent=e.title,o.textContent=e.section,t.appendChild(n)})}function c(t){const e=document.createElement('div');return e.innerHTML=t,e.firstChild}})()